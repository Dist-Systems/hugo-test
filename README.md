# Test of Seclab Website on github with hugo

This project utilizes the Hugo framework to generate a static website.

The artifacts are generated by scripts in the `tools` directory via the commands 
invoked from the **Makefile**.

The website is _published_ when the static files get transfered to the webserver.

Publishing is currently done with: 

`rsync -rv public/* www-seclab@besson:hugoroot/`

## Getting started

There are 3 main ways to get started with this project:

1.  clone the repo if you would like to make changes:

    - `git clone git@git.seclab.cs.ucsb.edu:seclab/website.git`
    - install hugo to build and preview
    
2.  Docker option (just take a look at the website served locally):
    
    - `docker pull git.seclab.cs.ucsb.edu:4567/seclab/website`
    - `docker run -it --rm -p 1313:1313 seclab/website`

3.  Rebuild docker image based on your code changes, then preview 
  
## Adding/editing members

1.  Add/edit a line to the datafile
2.  add a photo to the **tools/headshots/ directory** and reference it in the datafile

## Adding Publications

Adding a publication to the website could be as simple as adding to the: 
**content/publications.bib** file.

### if you would like to add a PDF
 - it will need to be in the `content/files/publications/` directory
 - **must** have the same name as string following the opening { on the first line (with a .pdf extension)
 - BibTeX for publications **must** be of a particular format (see below)
 - **make publications** does not throw an error if the bibtex is not processed correctly
 - Running `make publications|less` will provide output about the processed publications.
    - if you don't see your publication in the list, it was not processed

The `make` command will generate the needed artifacts and the `hugo` command will generate the static website.
`hugo serve` will spin up a local server to preview the website.

## Example Publication BibTeX Entry

    @InProceedings{ecs2000-system,                                              (PDF name must match this name. For example: ecs2000-system.pdf)
        # bibtex required
        title     = {{System: The Title of the Paper}},                         (important: title case)
        author    = {Lastname, Firstname and Second Lastname, Second Firstname},
        booktitle = {Proceedings of the 21st Example Conference on Security},
        series    = {ECS},
        month     = aug,
        year      = {2000},

        # bibtex optional
        abstract  = {},                                                         (defaults to empty)

        # custom required
        kind      = {conference/journal/magazine},                              (used to split on website)
        timestamp = {2000-08-01},                                               (day of publication)

        # custom optional
        paper     = {yes/no},                                                   (creates link to paper if there is a file with the right name, defaults to no)
        slides    = {yes/no},                                                   (creates slides link, defaults to no)
        url       = {},                                                         (creates link to publisher, defaults to none)
        video_url = {},                                                         (creates link to video, defaults to none)
    }
